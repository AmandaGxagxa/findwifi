<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>GEO location</title>
    <!-- <link rel="stylesheet" href="/style.css"> -->
    <style>
    /* Always set the map height explicitly to define the size of the div
     * element that contains the map. */
    #map {
      height: 100%;
    }
    /* Optional: Makes the sample page fill the window. */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
  </head>

    <body onload="initialize()">
    <div id="map" style="height: 80%;"></div>
    <div>
      <input id="address" type="textbox" value="Sydney, NSW">
      <input type="button" value="Encode" onclick="codeAddress()">

    <script>
    var geocoder;
var map;
function initialize() {
  geocoder = new google.maps.Geocoder();
  var latlng = new google.maps.LatLng(-34.397, 150.644);
  var mapOptions = {
    zoom: 8,
    center: latlng
  }
  map = new google.maps.Map(document.getElementById('map'), mapOptions);
}


function codeAddress() {
// var address = document.getElementById('address').value;
var address = ['Cape town Civic, Cape town','Goodwood Admin,  Voortrekker Rd, Goodwood','1st Avenue, Eastridge, Cape Town'];
for (var i = 0; i < address.length; i++) {
  geocoder.geocode( { 'address': address[i]}, function(results, status) {
    if (status == 'OK') {
      map.setCenter(results[0].geometry.location);
      var marker = new google.maps.Marker({
          map: map,
          position: results[0].geometry.location
      });
    } else {
      alert('Geocode was not successful for the following reason: ' + status);
    }
  });
}
}

    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBU7dAqGQjaF_XO8UOBkAJBx9_pd7gnbtQ&callback=initialize"
   async defer></script>
  </body>
</html>
